# sql_project_02
# 📚 Online Bookstore SQL Project

![PostgreSQL](https://img.shields.io/badge/Database-PostgreSQL-blue?logo=postgresql)
![SQL](https://img.shields.io/badge/Language-SQL-orange?logo=sqlite)
![Status](https://img.shields.io/badge/Project-Active-brightgreen)
![License](https://img.shields.io/badge/License-MIT-lightgrey)

> A hands-on SQL project simulating a real-world **Online Bookstore** database system. This project helps in mastering core SQL concepts like joins, aggregations, filtering, subqueries, and analytical queries while delivering business insights.

---

## 📌 Features

- 📦 Manage Books, Customers, and Orders
- 📊 Generate business insights using SQL queries
- 🔁 Explore advanced queries like CTEs, Ranking, and Window Functions
- 🧠 Perfect for resumes, portfolios, and interviews

---

## 🗃️ Database Schema


---

## 🚀 Technologies Used

- 💾 PostgreSQL (can adapt to MySQL / SQLite)
- 🧠 SQL (DDL, DML, JOINs, Aggregates, Subqueries)
- 📘 GitHub for version control

---

---

## ✅ Solved SQL Questions

### 🔹 Basic Queries

- **Q1**: Retrieve all books in the "Fiction" genre  
- **Q2**: Find books published after the year 1950  
- **Q3**: List all customers from the Canada  
- **Q4**: Show orders placed in November 2023  
- **Q5**: Retrieve the total stock of books available  
- **Q6**: Find the details of the most expensive book  
- **Q7**: Show all customers who ordered more than 1 quantity of a book  
- **Q8**: Retrieve all orders where the total amount exceeds $20  
- **Q9**: Find the book with the lowest stock  
- **Q10**: Calculate the total revenue generated from all orders  
- **Q11**: Find total number of books in stock grouped by genre  

### 🔹 Intermediate to Advanced Queries

- **Q12**: List top 5 customers who ordered the most books  
- **Q13**: Create a view to show best-selling books (more than 50 units sold)  
- **Q14**: Retrieve the total number of books sold for each genre  
- **Q15**: Find the average price of books in the "Fantasy" genre  
- **Q16**: List customers who have placed at least 2 orders  
- **Q17**: Find the most frequently ordered book  
- **Q18**: Show the top 3 most expensive books of 'Fantasy' Genre  
- **Q19**: Retrieve the total quantity of books sold by each author  
- **Q20**: List the cities where customers who spent over $200 are located  
- **Q21**: Find top 5 customers who spent the most on orders  
- **Q22**: Calculate the stock remaining after fulfilling all orders  
- **Q23**: List books that have never been ordered  
- **Q24**: Retrieve the most recent order placed for each customer  
- **Q25**: Find the total revenue generated by each genre  
- **Q26**: List customers who ordered books from more than 1 genre  
- **Q27**: Find the average quantity ordered per book title  
- **Q28**: Get the month-wise total orders placed  
- **Q29**: Which books are low in stock (less than 5 units left after orders)?  
- **Q30**: For each customer, show total books ordered and total amount spent  
- **Q31**: Show genres where more than 100 books have been sold  
- **Q32**: Rank customers based on total spending using RANK()  

---

## 💡 Sample Advanced SQL Queries

### 🔹 Top 3 Customers by Spending
```sql
SELECT c.name, SUM(o.total_amount) AS total_spent
FROM customers c
JOIN orders o ON c.customer_id = o.customer_id
GROUP BY c.name
ORDER BY total_spent DESC
LIMIT 3;


SELECT b.genre, SUM(o.quantity) AS total_sold
FROM orders o
JOIN books b ON o.book_id = b.book_id
GROUP BY b.genre;


SELECT 
  b.title,
  b.stock - COALESCE(SUM(o.quantity), 0) AS stock_remaining
FROM books b
LEFT JOIN orders o ON b.book_id = o.book_id
GROUP BY b.book_id, b.title, b.stock;


📦 OnlineBookstore-SQL-Project/
├── schema.sql               # Table creation scripts
├── sample_data.sql          # Sample insert data (optional)
├── queries/
│   ├── easy_queries.sql
│   ├── moderate_queries.sql
│   └── advanced_queries.sql
└── README.md

🧠 Author
Abhay Tiwari
🎓 BTech | NIT Allahabad
💡 Passionate about Data, ML, and Finance

